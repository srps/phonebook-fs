{"version":3,"sources":["components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleRemove","name","number","onClick","Persons","persons","map","id","Notification","message","isError","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","style","baseUrl","getAll","a","axios","get","response","data","create","newObject","post","update","put","remove","delete","Filter","filter","handleFilter","onChange","value","PersonsForm","handleName","handleNumber","handleSubmit","type","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","errorMessage","setErrorMessage","useEffect","personService","then","createPerson","returnedPerson","concat","setTimeout","catch","error","updatePerson","window","confirm","event","target","preventDefault","newPerson","existingPerson","find","undefined","toLowerCase","indexOf","personToRemove","personNotRemoved","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"+NAQOA,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,OAAQC,EAAV,EAAUA,aAAV,OACZ,+BAAuBD,EAAOE,KAA9B,IAAqCF,EAAOG,OAA5C,IAAoD,wBAAQC,QAAS,kBAAMH,EAAaD,IAApC,sBAA3CA,EAAOE,OAGLG,EAVC,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAASL,EAAX,EAAWA,aAAX,OACZ,6BACGK,EAAQC,KAAI,SAAAP,GAAM,OAAI,cAAC,EAAD,CAAwBA,OAAQA,EAAQC,aAAcA,GAAzCD,EAAOQ,UCelCC,EAjBM,SAAC,GAA0B,IAAxBC,EAAuB,EAAvBA,QAASC,EAAc,EAAdA,QACzBC,EAAoB,CACxBC,MAAO,QACPC,WAAY,YACZC,SAAU,GACVC,YAAa,QACbC,aAAc,EACdC,QAAS,EACTC,aAAc,GAEVC,EAAU,2BAAQR,GAAR,IAA2BC,MAAO,QAElD,OAAmB,OAAZH,EACL,KACA,qBAAKW,MAAOV,EAAUS,EAAaR,EAAnC,SAAuDF,K,uCCfrDY,EAAU,eAsBD,GAAEC,OApBL,uCAAG,4BAAAC,EAAA,sEACYC,IAAMC,IAAIJ,GADtB,cACLK,EADK,yBAEAA,EAASC,MAFT,2CAAH,qDAoBaC,OAfb,uCAAG,WAAMC,GAAN,eAAAN,EAAA,sEACYC,IAAMM,KAAKT,EAASQ,GADhC,cACLH,EADK,yBAEFA,EAASC,MAFP,2CAAH,sDAeqBI,OAVrB,uCAAG,WAAOxB,EAAIsB,GAAX,eAAAN,EAAA,sEACYC,IAAMQ,IAAN,UAAaX,EAAb,YAAwBd,GAAMsB,GAD1C,cACLH,EADK,yBAEFA,EAASC,MAFP,2CAAH,wDAU6BM,OAL7B,uCAAG,WAAO1B,EAAIsB,GAAX,eAAAN,EAAA,sEACYC,IAAMU,OAAN,UAAgBb,EAAhB,YAA2Bd,GAAMsB,GAD7C,cACLH,EADK,yBAEFA,EAASC,MAFP,2CAAH,yDCbNQ,EAAS,SAAC,GAAD,IAAGC,EAAH,EAAGA,OAAQC,EAAX,EAAWA,aAAX,OACb,qDACoB,uBAAOC,SAAUD,EAAcE,MAAOH,QAItDI,EAAc,SAAC,GAAD,IAClBvC,EADkB,EAClBA,KACAwC,EAFkB,EAElBA,WACAvC,EAHkB,EAGlBA,OACAwC,EAJkB,EAIlBA,aACAC,EALkB,EAKlBA,aALkB,OAOlB,iCACE,yCACQ,uBAAOL,SAAUG,EAAYF,MAAOtC,OAE5C,2CACU,uBAAOqC,SAAUI,EAAcH,MAAOrC,OAEhD,8BACE,wBAAQ0C,KAAK,SAASzC,QAASwC,EAA/B,uBA2ISE,EApIH,WACV,MAA8BC,mBAAS,IAAvC,mBAAOzC,EAAP,KAAgB0C,EAAhB,KACA,EAA8BD,mBAAS,IAAvC,mBAAOE,EAAP,KAAgBC,EAAhB,KACA,EAAkCH,mBAAS,IAA3C,mBAAOI,EAAP,KAAkBC,EAAlB,KACA,EAAkCL,mBAAS,IAA3C,mBAAOM,EAAP,KAAkBC,EAAlB,KACA,EAA8BP,mBAAS,MAAvC,mBAAOrC,EAAP,KAAgB6C,EAAhB,KACA,EAAwCR,mBAAS,MAAjD,mBAAOS,EAAP,KAAqBC,EAArB,KAEAC,qBAAU,WACRC,EAAcpC,SAASqC,MAAK,SAACtD,GAC3B0C,EAAW1C,QAEZ,IAGH,IA+DMuD,EAAe,SAAC7D,GACpB2D,EACG9B,OAAO7B,GACP4D,MAAK,SAACE,GACLd,EAAW1C,EAAQyD,OAAOD,IAC1BZ,EAAW,IACXE,EAAa,IACbG,EAAW,GAAD,OAAIO,EAAe5D,KAAnB,4BACR8D,YAAW,WACTT,EAAW,QACX,QAELU,OAAM,SAACC,GACNT,EAAgB,GAAD,OAAIR,EAAJ,iCACfe,YAAW,WACTP,EAAgB,QAChB,SAIFU,EAAe,SAACnE,GAChBoE,OAAOC,QAAP,iBAAyBrE,EAAOE,KAAhC,OACFyD,EAAc3B,OAAOhC,EAAOQ,GAAIR,GAAQ4D,MAAK,SAACE,GAC5Cd,EACE1C,EAAQC,KAAI,SAACP,GAAD,OACVA,EAAOQ,KAAOsD,EAAetD,GAAKR,EAAS8D,MAG/CZ,EAAW,IACXE,EAAa,QAKnB,OACE,gCACE,2CACA,cAAC,EAAD,CAAc1C,QAAS8C,EAAc7C,SAAS,IAC9C,cAAC,EAAD,CAAcD,QAASA,EAASC,SAAS,IACzC,cAAC,EAAD,CAAQ0B,OAAQgB,EAAWf,aApDP,SAACgC,GACvBhB,EAAagB,EAAMC,OAAO/B,UAoDxB,2CACA,cAAC,EAAD,CACEtC,KAAM+C,EACNP,WAhEgB,SAAC4B,GACrBpB,EAAWoB,EAAMC,OAAO/B,QAgEpBrC,OAAQgD,EACRR,aA9DkB,SAAC2B,GACvBlB,EAAakB,EAAMC,OAAO/B,QA8DtBI,aA7Ge,SAAC0B,GACpBA,EAAME,iBACN,IAAMC,EAAY,CAChBvE,KAAM+C,EACN9C,OAAQgD,GAEJuB,EAAiBpE,EAAQqE,MAAK,SAAC3E,GAAD,OAAYA,EAAOE,OAAS+C,UAC7C2B,IAAnBF,EACIb,EAAaY,GACbN,EAAa,2BAAKO,GAAN,IAAsBvE,OAAQgD,QAsG5C,yCACA,cAAC,EAAD,CAAS7C,QAxDJA,EAAQ+B,QAAO,SAACrC,GAAD,OAC4C,IAAhEA,EAAOE,KAAK2E,cAAcC,QAAQzB,EAAUwB,kBAuDT5E,aApGZ,SAAC8E,GACtBX,OAAOC,QAAP,iBAAyBU,EAAe7E,KAAxC,OACFyD,EACGzB,OAAO6C,EAAevE,IACtBoD,MAAK,SAACE,GACLd,EACE1C,EAAQ+B,QAAO,SAACrC,GAAD,OACbA,EAAOQ,KAAOuE,EAAevE,OAGjC+C,EAAW,GAAD,OAAIwB,EAAe7E,KAAnB,gCACV8D,YAAW,WACTT,EAAW,QACX,QAEHU,OAAM,SAACC,GACN,IAAMc,EAAmB1E,EAAQqE,MAC/B,SAAC3E,GAAD,OAAYA,EAAOQ,KAAOuE,EAAevE,MAGvCiD,OADiBmB,IAArBI,EACoBd,EACA,GAAD,OAAIc,EAAiB9E,KAArB,iDACnB8D,YAAW,WACTP,EAAgB,QAChB,eC/EZwB,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFC,SAASC,eAAe,W","file":"static/js/main.b0b213b7.chunk.js","sourcesContent":["import React from 'react'\r\n  \r\nconst Persons = ({persons, handleRemove}) => (\r\n    <ul>\r\n      {persons.map(person => <Person key={person.id} person={person} handleRemove={handleRemove} />)}\r\n    </ul>\r\n )\r\n  \r\n const Person = ({person, handleRemove}) => (\r\n    <li key={person.name}>{person.name} {person.number} <button onClick={() => handleRemove(person)}>Delete</button></li>\r\n )\r\n\r\nexport default Persons","import React from \"react\";\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  const notificationStyle = {\r\n    color: \"green\",\r\n    background: 'lightgrey',\r\n    fontSize: 16,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 8,\r\n    marginBottom: 8\r\n  };\r\n  const errorStyle = { ...notificationStyle, color: \"red\" };\r\n\r\n  return message === null \r\n  ? null \r\n  : <div style={isError ? errorStyle : notificationStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = async () => {\n    const response = await axios.get(baseUrl)\n        return response.data\n}\n\nconst create = async newObject => {\n    const response = await axios.post(baseUrl, newObject)\n      return response.data\n}\n  \nconst update = async (id, newObject) => {\n    const response = await axios.put(`${baseUrl}/${id}`, newObject)\n      return response.data\n}\n\nconst remove = async (id, newObject) => {\n    const response = await axios.delete(`${baseUrl}/${id}`, newObject)\n      return response.data\n}\n\nexport default { getAll, create, update, remove }\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst Filter = ({ filter, handleFilter }) => (\n  <div>\n    Filter shown with <input onChange={handleFilter} value={filter} />\n  </div>\n);\n\nconst PersonsForm = ({\n  name,\n  handleName,\n  number,\n  handleNumber,\n  handleSubmit,\n}) => (\n  <form>\n    <div>\n      name: <input onChange={handleName} value={name} />\n    </div>\n    <div>\n      number: <input onChange={handleNumber} value={number} />\n    </div>\n    <div>\n      <button type=\"submit\" onClick={handleSubmit}>\n        add\n      </button>\n    </div>\n  </form>\n);\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((persons) => {\n      setPersons(persons);\n    });\n  }, []);\n\n  // Button Handlers\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    const existingPerson = persons.find((person) => person.name === newName);\n    existingPerson === undefined\n      ? createPerson(newPerson)\n      : updatePerson({ ...existingPerson, number: newNumber });\n  };\n\n  const handleRemovePerson = (personToRemove) => {\n    if (window.confirm(`Delete ${personToRemove.name}?`)) {\n      personService\n        .remove(personToRemove.id)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.filter((person) =>\n              person.id !== personToRemove.id ? true : false\n            )\n          );\n          setMessage(`${personToRemove.name} removed from the Phonebook`)\n          setTimeout(() => {\n            setMessage(null)\n          },2000)\n        })\n        .catch((error) => {\n          const personNotRemoved = persons.find(\n            (person) => person.id === personToRemove.id\n          );\n          personNotRemoved === undefined\n            ? setErrorMessage(error)\n            : setErrorMessage(`${personNotRemoved.name} has already been removed from the Phonebook`);\n          setTimeout(() => {\n            setErrorMessage(null)\n          },5000)\n        });\n    }\n  };\n\n  // Input State Handlers\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleNewFilter = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  // Helper functions\n  const filterPersons = () => {\n    return persons.filter((person) =>\n      person.name.toLowerCase().indexOf(newFilter.toLowerCase()) === -1\n        ? false\n        : true\n    );\n  };\n\n  const createPerson = (person) => {\n    personService\n      .create(person)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`${returnedPerson.name} added to the Phonebook`)\n          setTimeout(() => {\n            setMessage(null)\n          },2000)\n      })\n      .catch((error) => {\n        setErrorMessage(`${newName} is already in the Phonebook`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        },5000)\n      });\n  };\n\n  const updatePerson = (person) => {\n    if (window.confirm(`Update ${person.name}?`)) {\n      personService.update(person.id, person).then((returnedPerson) => {\n        setPersons(\n          persons.map((person) =>\n            person.id !== returnedPerson.id ? person : returnedPerson\n          )\n        );\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} isError={true} />\n      <Notification message={message} isError={false}/>\n      <Filter filter={newFilter} handleFilter={handleNewFilter} />\n      <h2>Add a new</h2>\n      <PersonsForm\n        name={newName}\n        handleName={handleNewName}\n        number={newNumber}\n        handleNumber={handleNewNumber}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={filterPersons()} handleRemove={handleRemovePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}