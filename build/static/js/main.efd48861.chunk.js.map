{"version":3,"sources":["components/Persons.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","handleRemove","name","number","onClick","Persons","persons","map","id","Notification","message","isError","notificationStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","style","baseUrl","getAll","a","axios","get","response","data","create","newObject","post","request","update","put","remove","delete","Filter","filter","handleFilter","onChange","value","PersonsForm","handleName","handleNumber","handleSubmit","type","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","setMessage","errorMessage","setErrorMessage","useEffect","personService","then","createPerson","returnedPerson","concat","setTimeout","catch","error","updatePerson","window","confirm","event","target","preventDefault","newPerson","existingPerson","find","undefined","toLowerCase","indexOf","personToRemove","personNotRemoved","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.efd48861.chunk.js","sourcesContent":["import React from 'react'\r\n  \r\nconst Persons = ({persons, handleRemove}) => (\r\n    <ul>\r\n      {persons.map(person => <Person key={person.id} person={person} handleRemove={handleRemove} />)}\r\n    </ul>\r\n )\r\n  \r\n const Person = ({person, handleRemove}) => (\r\n    <li key={person.name}>{person.name} {person.number} <button onClick={() => handleRemove(person)}>Delete</button></li>\r\n )\r\n\r\nexport default Persons","import React from \"react\";\r\n\r\nconst Notification = ({ message, isError }) => {\r\n  const notificationStyle = {\r\n    color: \"green\",\r\n    background: 'lightgrey',\r\n    fontSize: 16,\r\n    borderStyle: 'solid',\r\n    borderRadius: 5,\r\n    padding: 8,\r\n    marginBottom: 8\r\n  };\r\n  const errorStyle = { ...notificationStyle, color: \"red\" };\r\n\r\n  return message === null \r\n  ? null \r\n  : <div style={isError ? errorStyle : notificationStyle}>{message}</div>;\r\n};\r\n\r\nexport default Notification;\r\n","import axios from \"axios\";\nconst baseUrl = \"/api/persons\";\n\nconst getAll = async () => {\n  const response = await axios.get(baseUrl);\n  return response.data;\n};\n\nconst create = async (newObject) => {\n  try {\n    const response = await axios.post(baseUrl, newObject);\n    return response.data;\n  } catch (error) {\n    if (error.response) {\n      throw error.response.data;\n    } else if (error.request) {\n      throw error.request\n    } else {\n      throw error;\n    }\n  }\n};\n\nconst update = async (id, newObject) => {\n  const response = await axios.put(`${baseUrl}/${id}`, newObject);\n  return response.data;\n};\n\nconst remove = async (id, newObject) => {\n  const response = await axios.delete(`${baseUrl}/${id}`, newObject);\n  return response.data;\n};\n\nexport default { getAll, create, update, remove };\n","import React, { useState, useEffect } from \"react\";\nimport Persons from \"./components/Persons\";\nimport Notification from \"./components/Notification\";\nimport personService from \"./services/persons\";\n\nconst Filter = ({ filter, handleFilter }) => (\n  <div>\n    Filter shown with <input onChange={handleFilter} value={filter} />\n  </div>\n);\n\nconst PersonsForm = ({\n  name,\n  handleName,\n  number,\n  handleNumber,\n  handleSubmit,\n}) => (\n  <form>\n    <div>\n      name: <input onChange={handleName} value={name} />\n    </div>\n    <div>\n      number: <input onChange={handleNumber} value={number} />\n    </div>\n    <div>\n      <button type=\"submit\" onClick={handleSubmit}>\n        add\n      </button>\n    </div>\n  </form>\n);\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState(\"\");\n  const [newNumber, setNewNumber] = useState(\"\");\n  const [newFilter, setNewFilter] = useState(\"\");\n  const [message, setMessage] = useState(null);\n  const [errorMessage, setErrorMessage] = useState(null);\n\n  useEffect(() => {\n    personService.getAll().then((persons) => {\n      setPersons(persons);\n    });\n  }, []);\n\n  // Button Handlers\n  const handleSubmit = (event) => {\n    event.preventDefault();\n    const newPerson = {\n      name: newName,\n      number: newNumber,\n    };\n    const existingPerson = persons.find((person) => person.name === newName);\n    existingPerson === undefined\n      ? createPerson(newPerson)\n      : updatePerson({ ...existingPerson, number: newNumber });\n  };\n\n  const handleRemovePerson = (personToRemove) => {\n    if (window.confirm(`Delete ${personToRemove.name}?`)) {\n      personService\n        .remove(personToRemove.id)\n        .then((returnedPerson) => {\n          setPersons(\n            persons.filter((person) =>\n              person.id !== personToRemove.id ? true : false\n            )\n          );\n          setMessage(`${personToRemove.name} removed from the Phonebook`)\n          setTimeout(() => {\n            setMessage(null)\n          },2000)\n        })\n        .catch((error) => {\n          const personNotRemoved = persons.find(\n            (person) => person.id === personToRemove.id\n          );\n          personNotRemoved === undefined\n            ? setErrorMessage(error)\n            : setErrorMessage(`${personNotRemoved.name} has already been removed from the Phonebook`);\n          setTimeout(() => {\n            setErrorMessage(null)\n          },5000)\n        });\n    }\n  };\n\n  // Input State Handlers\n  const handleNewName = (event) => {\n    setNewName(event.target.value);\n  };\n\n  const handleNewNumber = (event) => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleNewFilter = (event) => {\n    setNewFilter(event.target.value);\n  };\n\n  // Helper functions\n  const filterPersons = () => {\n    return persons.filter((person) =>\n      person.name.toLowerCase().indexOf(newFilter.toLowerCase()) === -1\n        ? false\n        : true\n    );\n  };\n\n  const createPerson = (person) => {\n    personService\n      .create(person)\n      .then((returnedPerson) => {\n        setPersons(persons.concat(returnedPerson));\n        setNewName(\"\");\n        setNewNumber(\"\");\n        setMessage(`${returnedPerson.name} added to the Phonebook`)\n          setTimeout(() => {\n            setMessage(null)\n          },2000)\n      })\n      .catch((error) => {\n        if (error.error) {\n          setErrorMessage(error.error)\n        } else {\n          setErrorMessage(`Unexpected error occured creating ${person.name}`)\n        }\n        \n        setTimeout(() => {\n          setErrorMessage(null)\n        },5000)\n      });\n  };\n\n  const updatePerson = (person) => {\n    if (window.confirm(`Update ${person.name}?`)) {\n      personService.update(person.id, person).then((returnedPerson) => {\n        setPersons(\n          persons.map((person) =>\n            person.id !== returnedPerson.id ? person : returnedPerson\n          )\n        );\n        setNewName(\"\");\n        setNewNumber(\"\");\n      });\n    }\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={errorMessage} isError={true} />\n      <Notification message={message} isError={false}/>\n      <Filter filter={newFilter} handleFilter={handleNewFilter} />\n      <h2>Add a new</h2>\n      <PersonsForm\n        name={newName}\n        handleName={handleNewName}\n        number={newNumber}\n        handleNumber={handleNewNumber}\n        handleSubmit={handleSubmit}\n      />\n      <h2>Numbers</h2>\n      <Persons persons={filterPersons()} handleRemove={handleRemovePerson} />\n    </div>\n  );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}